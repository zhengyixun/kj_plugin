<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
	</head>
	<style type="text/css">
		canvas{
			border: 1px solid gray;
		}
	</style>
	<body>
		<canvas id="" width="1331" height="605"></canvas>
	</body>
</html>
<script>
	window.onload=function(){
		let ctx=document.querySelector('canvas').getContext('2d')
		document.onmousedown=function(e){
			let ox=e.offsetX,oy=e.offsetY
			document.onmousemove=function(e){
				let cx=e.offsetX,cy=e.offsetY
				let r=Math.sqrt(Math.pow(cx-ox,2)+Math.pow(cy-oy,2))
				duobianxing(ox,oy,4,r)
			}
			document.onmouseup=function(){
				document.onmousemove=null
				document.onmouseup=null
			}
		}
		
		function duobianxing(x,y,bian,r){              //画一个多变形
			let ang=360/bian/180*Math.PI
			ctx.beginPath()
			ctx.moveTo(x+r,y)
			for(let i=1;i<bian;i++){
				ctx.lineTo(r*Math.cos(ang*i)+x,r*Math.sin(ang*i)+y)
			}
			ctx.closePath()
			ctx.fill()
		}	
	
	
	/////////////////画一条线////////////////////////////////
	
	}
</script>
